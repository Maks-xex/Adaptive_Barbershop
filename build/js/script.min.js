"use strict";const menu=document.querySelector(".main-nav"),navToggle=document.querySelector(".main-nav__toggle"),userLoginForm=document.querySelector(".user-form__login"),modalForm=document.querySelector(".modal-login-form__wrapper"),close=modalForm.querySelector(".close-modal"),loginForm=modalForm.querySelector("#login-form"),login=modalForm.querySelector("[name=Login]"),password=modalForm.querySelector("[name=Password]"),modalLoginForm=document.querySelector(".modal-login__form");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}userLoginForm.addEventListener("click",(function(e){e.preventDefault(),modalForm.classList.add("modal-show"),modalLoginForm.classList.add("modal-fallout"),menu.classList.add("main-nav--closed"),menu.classList.remove("main-nav--opened"),storage?(login.value=storage,password.focus()):login.focus()})),close.addEventListener("click",(function(e){e.preventDefault(),modalForm.classList.remove("modal-show"),modalLoginForm.classList.remove("modal-fallout"),modalLoginForm.classList.remove("modal-error")})),loginForm.addEventListener("submit",(function(e){login.value&&password.value?isStorageSupport&&localStorage.setItem("login",login.value):(e.preventDefault(),modalLoginForm.classList.remove("modal-fallout"),modalLoginForm.classList.remove("modal-error"),modalForm.offsetWidth=modalForm.offsetWidth,modalLoginForm.classList.add("modal-error"))})),navToggle.addEventListener("click",(function(){menu.classList.contains("main-nav--closed")?(menu.classList.remove("main-nav--closed"),menu.classList.add("main-nav--opened")):(menu.classList.remove("main-nav--opened"),menu.classList.add("main-nav--closed"))}));const popupFail=document.querySelector(".popup-fail"),popupSuccess=document.querySelector(".popup-success"),form=document.querySelector(".form-register"),telValue=document.querySelector("[type=tel]"),closeFail=document.querySelector(".modal-fail--close"),closeSuccess=document.querySelector(".modal-success--close");if(form){const e=form.querySelector("input");form.addEventListener("submit",(function(o){o.preventDefault(),e.value&&telValue.value?popupSuccess.classList.add("modal-show__success"):popupFail.classList.add("modal-show__fail")})),closeFail.addEventListener("click",(function(e){e.preventDefault(),popupFail.classList.remove("modal-show__fail")})),closeSuccess.addEventListener("click",(function(e){e.preventDefault(),popupSuccess.classList.remove("modal-show__success")}))}